<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1">

<!-- Begin Jekyll SEO tag v2.3.0 -->
<title>Содержание ReadMe пакета rvkstat | rvkstat</title>
<meta property="og:title" content="Содержание ReadMe пакета rvkstat" />
<meta property="og:locale" content="en_US" />
<meta name="description" content="R клиент для работы с API Вконтакте (загрузка данных из API Вконтакте в R)." />
<meta property="og:description" content="R клиент для работы с API Вконтакте (загрузка данных из API Вконтакте в R)." />
<link rel="canonical" href="https://selesnow.github.io/rvkstat/" />
<meta property="og:url" content="https://selesnow.github.io/rvkstat/" />
<meta property="og:site_name" content="rvkstat" />
<script type="application/ld+json">
{"name":"rvkstat","description":"R клиент для работы с API Вконтакте (загрузка данных из API Вконтакте в R).","author":null,"@type":"WebSite","url":"https://selesnow.github.io/rvkstat/","image":null,"publisher":null,"headline":"Содержание ReadMe пакета rvkstat","dateModified":null,"datePublished":null,"sameAs":null,"mainEntityOfPage":null,"@context":"http://schema.org"}</script>
<!-- End Jekyll SEO tag -->
    <div class="container-lg px-3 my-5 markdown-body">
    <link href="/rvkstat/assets/css/style.css?v=43aa1f00f31914346c998fed0bd4c860bbc2820f" rel="stylesheet">
	          <h1><a href="https://selesnow.github.io/rvkstat/">rvkstat</a></h1>
  </head>
  <body>
  <header class="header section small-padding bg-dark bg-image" style="background-image: url(https://alexeyseleznev.files.wordpress.com/2017/03/cropped-2.jpeg);" role="banner"></header>
  
  

      

      

      
<h1 id="содержание-readme-пакета-rvkstat">Содержание ReadMe пакета rvkstat</h1>

<ul>
  <li><strong><a href="https://selesnow.github.io/rvkstat/#краткое-описание-пакета-rvkstat">Краткое описание пакета rvkstat</a></strong></li>
  <li><strong><a href="https://selesnow.github.io/rvkstat/#как-получить-подробную-справку-по-функциям-пакета-rvkstat">Как получить подробную справку по функциям пакета</a></strong></li>
  <li><strong><a href="https://selesnow.github.io/rvkstat/#что-необходимо-для-начала-работы-с-api-вктонтакте-с-помощью-пакета-rvkstat">Что необходимо для начала работы с API Вктонтакте с помощью пакета rvkstat</a></strong></li>
  <li><strong><a href="https://selesnow.github.io/rvkstat/#как-работать-с-api-сервисом-вконтакте-на-украине">Как обойти блокировку API сервиса Вконтакте на Украине</a></strong></li>
  <li><strong><a href="https://selesnow.github.io/rvkstat/#установка-пакета">Установка пакета rvkstat</a></strong></li>
  <li><strong><a href="https://selesnow.github.io/rvkstat/#авторизация-вконтакте-для-работы-с-api">Как пройти аутентификацию для работы с API Вконтакте с помощью пакета rvkstat</a></strong>
    <ul>
      <li><a href="https://selesnow.github.io/rvkstat/#пример-прохождения-авторизации-с-помощью-функции-vkgettoken">vkGetToken</a> - Авторизация в Вконтакте с помощью метода <a href="https://github.com/selesnow/rvkstat#Пример-прохождения-авторизации-с-помощью-функции-vkgettoken">Implicit Flow</a></li>
      <li><a href="https://selesnow.github.io/rvkstat/#пример-прохождения-авторизации-с-помощью-функции-vkauth">vkAuth</a> - Авторизация в Вконтакте с помощью метода <a href="https://vk.com/dev/authcode_flow_user">Authorization Code Flow</a></li>
    </ul>
  </li>
  <li><strong><a href="https://selesnow.github.io/rvkstat/#функции-доступные-в-пакете-rvkstat">Функции доступные в пакете rvkstat</a></strong>
    <ul>
      <li><a href="https://selesnow.github.io/rvkstat/#функции-для-загрузки-данных-из-рекламного-кабинета-вконтакте">Функции для загрузки данных из рекламного кабинета Вконтакте</a>
        <ul>
          <li><a href="https://selesnow.github.io/rvkstat/#получить-список-возможных-тематик-рекламных-объявлений-и-их-подразделов">vkGetAdCategories</a> - Получить возможные тематики рекламных объявлений и их подразделы.</li>
          <li><a href="https://selesnow.github.io/rvkstat/#получить-список-досупных-рекламных-кабинетов-вконтакте">vkGetAdAccounts</a> - Получить список доступных рекламных кабинетов</li>
          <li><a href="https://selesnow.github.io/rvkstat/#получить-список-клиентов-из-агентского-аккаунта-вконтакте">vkGetAdClients</a> - Получить список клиентов из агентского аккаунта</li>
          <li><a href="https://selesnow.github.io/rvkstat/#получить-список-объявлений-из-рекламного-кабинета-вконтакте">vkGetAds</a> - Получить список объявлений</li>
          <li><a href="https://selesnow.github.io/rvkstat/#получить-список-рекламных-кампаний-из-рекламного-кабинета-вконтакте">vkGetAdCampaigns</a> - Получить список рекламных кампаний</li>
          <li><a href="https://selesnow.github.io/rvkstat/#получить-статистику-показателей-эффективности-по-рекламным-объявлениям-кампаниям-клиентам-или-всему-кабинету">vkGetAdStatistics</a> - Получить статистику показателей эффективности по рекламным объявлениям, кампаниям, клиентам или всему кабинету</li>
          <li><a href="https://selesnow.github.io/rvkstat/#получить-статистику-по-охвату-аудитории-по-рекламным-кампаним-или-объявления-в-разрезе-городов">vkGetAdCityStats</a> - Получить статистику по охвату аудитории по рекламным кампаним или объявления в разрезе городов</li>
          <li><a href="https://selesnow.github.io/rvkstat/#получить-статистику-по-охвату-аудитории-по-рекламным-кампаним-или-объявления-в-разрезе-пола">vkGetAdGenderStats</a> - Получить статистику по охвату аудитории по рекламным кампаним или объявления в разрезе пола</li>
          <li><a href="https://selesnow.github.io/rvkstat/#получить-статистику-по-охвату-аудитории-по-рекламным-кампаним-или-объявления-в-разрезе-возраста">vkGetAdAgeStats</a> - Получить статистику по охвату аудитории по рекламным кампаним или объявления в разрезе возраста</li>
          <li><a href="https://selesnow.github.io/rvkstat/#получить-статистику-по-охвату-аудитории-по-рекламным-кампаним-или-объявления-в-разрезе-пола-и-возраста">vkGetAdGenderAgeStats</a> - Получить статистику по охвату аудитории по рекламным кампаним или объявления в разрезе пола и возраста</li>
          <li><a href="https://selesnow.github.io/rvkstat/#получить-остаток-средств-из-рекламного-кабинета">vkGetAdBudget</a> - Получить остаток средств из рекламного кабинета</li>
          <li><a href="https://selesnow.github.io/rvkstat/#получить-подробную-статистику-по-охвату-рекламных-записей-из-объявлений-и-кампаний-для-продвижения-записей-сообщества">vkGetAdPostsReach</a> - Получить подробную статистику по охвату рекламных записей из объявлений и кампаний для продвижения записей сообщества</li>
        </ul>
      </li>
      <li><a href="https://selesnow.github.io/rvkstat/#функции-для-загрузки-данных-из-сообществ-вконтакте">Функции для загрузки данных из сообществ Вконтакте</a>
        <ul>
          <li><a href="https://selesnow.github.io/rvkstat/#получить-данные-о-количестве-просмотров-посетителях-подписавшихся-и-отписавшихся-посетителей-по-дням">vkGetGroupStat</a> - Получить общую статистику по сообществу</li>
          <li><a href="https://selesnow.github.io/rvkstat/#получить-данные-о-возрастных-группах-посетителей-по-дням">vkGetGroupStatAge</a> - Получить данные о посетителях сообщества по возрасту</li>
          <li><a href="https://selesnow.github.io/rvkstat/#получить-данные-о-городах-посетителей">vkGetGroupStatCity</a> -Получить данные о посетителях сообщества по городам</li>
          <li><a href="https://selesnow.github.io/rvkstat/#получить-данные-о-странах-посетителей">vkGetGroupStatCountries</a> - Получить данные о посетителях сообщества по странам</li>
          <li><a href="https://selesnow.github.io/rvkstat/#получить-данные-о-поле-посетителей-по-дням">vkGetGroupStatGender</a> - Получить данные о посетителях сообщества по полу</li>
          <li><a href="https://selesnow.github.io/rvkstat/#получить-данные-о-половозрастной-структуре-ваших-посетителей-по-дням">vkGetGroupStatGenderAge</a> - Получить данные о посетителях сообщества по полу и возрасту</li>
        </ul>
      </li>
      <li><a href="https://selesnow.github.io/rvkstat/#функции-для-загрузки-справочной-информации-из-вконтакте">Функции для загрузки справочной инормации из Вконтакте</a>
        <ul>
          <li><a href="https://selesnow.github.io/rvkstat/#получить-id-и-название-стран">vkGetDbCountries</a> - Получить id и название стран</li>
          <li><a href="https://selesnow.github.io/rvkstat/#получить-справочник-городов">vkGetDbCities</a> - Получить справочник городов</li>
          <li><a href="https://selesnow.github.io/rvkstat/#получить-справочник-регионов">vkGetDbRegions</a> - Получить справочник регионов</li>
        </ul>
      </li>
      <li><a href="https://selesnow.github.io/rvkstat/#функции-для-загрузки-инормации-о-пользователе-Вконтакте">Функции для загрузки инормации о пользователе Вконтакте</a>
        <ul>
          <li><a href="https://selesnow.github.io/rvkstat/#получиить-список-друзей-пользователя-Вконтакте">vkGetUserFriends</a> - Получить список друзей пользователя Вконтакте</li>
          <li><a href="https://selesnow.github.io/rvkstat/#получить-список-групп-и-сообществ-в-которых-состоит-пользователь-Вконтакте">vkGetUserGroups</a> - Получить список групп и сообществ в которых состоит пользователь Вконтакте</li>
          <li><a href="https://selesnow.github.io/rvkstat/#получить-сообщения-со-стены-пользователя-с-количеством-комментариев-лайков-и-рипостов">vkGetUserWall</a> - Получить сообщения со стены пользователя с количеством комментариев, лайков и рипостов</li>
        </ul>
      </li>
    </ul>
  </li>
  <li><strong><a href="https://github.com/selesnow/rvkstat/blob/master/README.md#Список-статей-с-примерами-работы-с-пакетом-rvkstat">Список статей с примерами работы с пакетом rvkstat</a></strong>
    <ul>
      <li><a href="https://netpeak.net/ru/blog/kak-perenesti-dannyye-iz-vkontakte-v-power-bi/">Как перенести данные из ВКонтакте в Power BI</a></li>
    </ul>
  </li>
  <li><strong><a href="https://selesnow.github.io/rvkstat/#автор-пакета-алексей-селезнёв-head-of-analytics-dept-at-netpeak">Информация об авторе пакета</a></strong></li>
</ul>

<h2 id="краткое-описание-пакета-rvkstat">Краткое описание пакета rvkstat</h2>
<p>Пакет rvkstat является R клиентом для работы с API социальной сети <a href="url">Вконтакте</a>, с помощью функций данного пакета можно получить статистику из рекламного кабинета Вконтакте, а так же данные о посетителях сообществ вконтакте по дням, в разрезе возрастных групп, пола и геолокации посетителей.</p>

<p>Все функции входящие в пакет rvkstat имеюи префикс vk.</p>

<p>Все функции пакета разделены на блоки, определить к какому блоку относится функция можно из её названия, название блока к которому относится функция идёт сразу после префикса vk:</p>

<ul>
  <li>Блок функция <strong>GetGroupStat</strong> предназначем для загрузки статистики по сообществам Вконтакте.</li>
  <li>Блок функций <strong>GetAd</strong> направлен на загрузку данных из рекламного кабинета Вконтакте.</li>
  <li>Блок функций <strong>GetDb</strong> даёт возможность загрузки справочной информации из Вконтакте.</li>
  <li>Блок функций <strong>GetUser</strong> используется для загрузки данных о конкретном пользователе Вконтакте.</li>
</ul>

<h2 id="как-получить-подробную-справку-по-функциям-пакета-rvkstat">Как получить подробную справку по функциям пакета rvkstat</h2>
<p>Все функции пакета имеют подробное описание на русском языке, получить детальную справку по любой функции пакета rvkstat можно с помощь команды <code class="highlighter-rouge">help</code>, если вы работаете в RStudio справку так же можно получить указав <code class="highlighter-rouge">?</code> перед названием комапнды:</p>

<p><code class="highlighter-rouge">help("vkGetAdStatistics")</code></p>

<p><code class="highlighter-rouge">?vkGetAdStatistics</code></p>

<h2 id="что-необходимо-для-начала-работы-с-api-вктонтакте-с-помощью-пакета-rvkstat">Что необходимо для начала работы с API Вктонтакте с помощью пакета rvkstat</h2>
<p>Для работы с api вконтакте вам необходимо создать Standalone-приложение, для этого перейдите по этой <a href="https://vk.com/editapp?act=create">ссылке</a>, и выберите Standalone-приложение.</p>
<p align="center"><img src="http://picsee.net/upload/2016-04-29/ccbead79d129.png" data-canonical-src="http://picsee.net/upload/2016-04-29/ccbead79d129.png" style="max-width:100%;" /></p>

<p>Для начала работы и для того, что бы с помощью функции авторизации в Вконтакте получить токен разработчика используйте ID и Защищённый ключ приложения.</p>
<p align="center"><img src="http://img.netpeak.ua/alsey/150540127636_kiss_56kb.png" data-canonical-src="http://picsee.net/upload/2016-04-29/39ef5f2d1d09.png" style="max-width:100%;" /></p>

<h2 id="как-работать-с-api-сервисом-вконтакте-на-украине">Как работать с API сервисом Вконтакте на Украине</h2>
<p>Обойти блокировку API Вконтакте на Украине можно с помощью пакета <a href="https://github.com/selesnow/getProxy">getProxy</a>.
Процесс обхода блокировки с помозью пакета getProxy:</p>

<ol>
  <li>Устанавливаем пакет getProxy с помощью приведённого ниже кода:
    <div class="highlighter-rouge"><pre class="highlight"><code>if(!"devtools" %in% installed.packages()[,1]){install.packages("devtools")}
library(devtools)
install_github("selesnow/getProxy")
</code></pre>
    </div>
  </li>
  <li>Подключаем пакет getProxy с помощью комманды <code class="highlighter-rouge">library(getProxy)</code>.</li>
  <li>Далее с помощью функции <code class="highlighter-rouge">getProy</code> обходим блокировку через прокси сервер, пример кода ниже:</li>
</ol>

<div class="highlighter-rouge"><pre class="highlight"><code>#Направляем интернет соединение через прокси сервер
getProxy(port = "3128", country = "RU", supportsHttps = TRUE, action = "start")

#Пишем код для работы с API Вконтакте с помощью функций пакета rvkstat

#Отключаемся от прокси сервера
getProxy9action = "stop")
</code></pre>
</div>

<h2 id="установка-пакета">Установка пакета</h2>
<p>Пакет rvkstat может быть установлен непосредственно из репозитория Github с помощью приведённого ниже программного кода.</p>

<div class="highlighter-rouge"><pre class="highlight"><code>if(!"devtools" %in% installed.packages()[,1]){install.packages("devtools")}
devtools::install_github('selesnow/rvkstat')
</code></pre>
</div>
<h2 id="авторизация-вконтакте-для-работы-с-api">Авторизация вконтакте для работы с API.</h2>
<p>Для прохождения процесса авторизации в пакете rvkstat есть две функции:</p>

<ul>
  <li>vkGetToken - Упрощённая авторизация по методу <a href="https://vk.com/dev/implicit_flow_user">Implicit Flow</a>, токен доступа выдаётся с привязкой к IP адресу, в связи с чем при смене IP адреса прийдётся проходить процедуру авторизации.</li>
  <li>vkAuth - Для прохождение процесса авторизации с помощью метода <a href="https://vk.com/dev/authcode_flow_user">Authorization Code Flow</a>, токен полученный с помощью данной функции будет работать с любого IP.</li>
</ul>

<h4 id="пример-прохождения-авторизации-с-помощью-функции-vkgettoken">Пример прохождения авторизации с помощью функции vkGetToken</h4>
<p>Для авторизации по схеме <a href="https://vk.com/dev/implicit_flow_user">Implicit Flow</a> воспользуйтесь следующим кодом:</p>

<p><code class="highlighter-rouge">myToken &lt;- vkGetToken(app_id = &lt;ID Вашего Приложения&gt;)</code></p>

<p>Измените <ID Вашего="" Приложения=""> на ID вашего приложения, ID приложения можно получить на странице настройки приложения, как показано в разделе "[Что необходимо для начала работы с API Вктонтакте с помощью пакета rvkstat](https://github.com/selesnow/rvkstat/blob/master/README.md#Требование)".</ID></p>

<p>После запуска функции откроется окно браузера, в котором вам необходимо предоставить приложению все необходимые для работы разрешения.</p>
<p align="center"><img src="http://img.netpeak.ua/alsey/150608813338_kiss_49kb.png" data-canonical-src="http://img.netpeak.ua/alsey/150608813338_kiss_49kb.png" style="max-width:100%;" /></p>

<p>После предоставления разрешения вы будете перенаправлены на страницу https://selesnow.github.io/rvkstat/getCode/get_token.html где вам будет сгенерирован токен доступа.</p>

<p align="center"><img src="http://img.netpeak.ua/alsey/150608783702_kiss_86kb.png" data-canonical-src="http://img.netpeak.ua/alsey/150608783702_kiss_86kb.png" style="max-width:100%;" /></p>

<p>Скопируйте его значение и вставьте в R, в качестве ответа на запрос “Your vk token from URL parameter access_token: “.</p>

<h4 id="пример-прохождения-авторизации-с-помощью-функции-vkauth">Пример прохождения авторизации с помощью функции vkAuth</h4>
<p><code class="highlighter-rouge">myToken &lt;- vkAuth(app_id = &lt;ID Вашего Приложения&gt;, app_secret = &lt;Защищённый Ключ Вашего Приложения&gt;)</code></p>

<p>Вместо <ID Вашего="" Приложения=""> укажите ID вашего приложения, вместо <Защищённый Ключ="" Вашего="" Приложения=""> укажите защищёный ключ вашего приложения, оба аргумента можно посмотреть на странице настройки приложения как описано в разделе "[Что необходимо для начала работы с API Вктонтакте с помощью пакета rvkstat](https://github.com/selesnow/rvkstat/blob/master/README.md#Требование)".</Защищённый></ID></p>

<p>После запуска функции откроется окно браузера, в котором вы должны подтвердить разрешение доступ к данным в вконтакте.</p>
<p align="center"><img src="http://img.netpeak.ua/alsey/150608813338_kiss_49kb.png" data-canonical-src="http://img.netpeak.ua/alsey/150608813338_kiss_49kb.png" style="max-width:100%;" /></p>

<p>После предоставления разрешения вы будете перенаправлены на страницу https://selesnow.github.io/rvkstat/getCode/get_code.html где вам будет сгенерирован код для получения токена доступа.</p>

<p align="center"><img src="http://img.netpeak.ua/alsey/150608845717_kiss_69kb.png" data-canonical-src="http://img.netpeak.ua/alsey/150608845717_kiss_69kb.png" style="max-width:100%;" /></p>

<p>Скопируйте его значение и вставьте в R, в качестве ответа на запрос “Enter code from URL: “. После чего в рабочем окружении R появится объект myToken, который будет содержать токен доступа, срок действия токена (в данном случае токен бессрочный) и id пользователя которому был предоставлен токен доступа к API.</p>

<h2 id="функции-доступные-в-пакете-rvkstat">Функции доступные в пакете rvkstat</h2>

<h3 id="функции-для-загрузки-данных-из-рекламного-кабинета-вконтакте">Функции для загрузки данных из рекламного кабинета Вконтакте</h3>

<h4 id="получить-список-возможных-тематик-рекламных-объявлений-и-их-подразделов">Получить список возможных тематик рекламных объявлений и их подразделов.</h4>
<div class="highlighter-rouge"><pre class="highlight"><code>##Авторизация в вк
my_tok &lt;- vkAuth(app_id = 11111111,app_secret = "H2Pk8htyFD8024mZaPHm")
##Получение списка возможных тематик рекламных объявлений
vk_ad_categories &lt;- vkGetAdCategories(access_token = my_tok$access_token)
</code></pre>
</div>
<h5 id="аргументы">Аргументы</h5>
<ul>
  <li><b>access_token</b> - Токен доступа к API, полученный с помощью функций vkAuth или vkGetToken</li>
</ul>

<h4 id="получить-список-досупных-рекламных-кабинетов-вконтакте">Получить список досупных рекламных кабинетов Вконтакте</h4>
<div class="highlighter-rouge"><pre class="highlight"><code>##Авторизация в вк
my_tok &lt;- vkAuth(app_id = 11111111,app_secret = "H2Pk8htyFD8024mZaPHm")
##Запрос списка доступных рекламных кабинетов
my_vk_acc &lt;- vkGetAdAccounts(my_tok$access_token)
</code></pre>
</div>
<h5 id="аргументы-1">Аргументы</h5>
<ul>
  <li><b>access_token</b> - Токен доступа к API, полученный с помощью функций vkAuth или vkGetToken</li>
</ul>

<h4 id="получить-список-клиентов-из-агентского-аккаунта-вконтакте">Получить список клиентов из агентского аккаунта Вконтакте</h4>
<div class="highlighter-rouge"><pre class="highlight"><code>##Авторизация в вк
my_tok &lt;- vkAuth(app_id = 11111111,app_secret = "H2Pk8htyFD8024mZaPHm")
##Запрос списка доступных рекламных кабинетов
my_vk_clients &lt;- vkGetAdClients(account_id = 11111111, access_token = my_tok$access_token)
</code></pre>
</div>
<h5 id="аргументы-2">Аргументы</h5>
<ul>
  <li><b>account_id</b> - Идентификатор рекламного кабинета, список всех доступных рекламных кабинетов можно получить с помщью функции vkGetAdAccounts.</li>
  <li><b>access_token</b> - Токен доступа к API, полученный с помощью функций vkAuth или vkGetToken</li>
</ul>

<h4 id="получить-список-объявлений-из-рекламного-кабинета-вконтакте">Получить список объявлений из рекламного кабинета вконтакте</h4>
<div class="highlighter-rouge"><pre class="highlight"><code>##Авторизация в вконтакте
my_tok &lt;- vkAuth(app_id = 11111111,app_secret = "H2Pk8htyFD8024mZaPHm")
#Получаем список объявлений
my_vk_ads &lt;- vkGetAds(account_id = 11111111, 
                      access_token = my_tok$access_token)
</code></pre>
</div>
<h5 id="аргументы-3">Аргументы</h5>
<ul>
  <li><b>account_id</b> - Идентификатор рекламного кабинета, список всех доступных рекламных кабинетов можно получить с помщью функции vkGetAdAccounts.</li>
  <li><b>client_id</b> - Идентификатор клиента, у которого запрашиваются рекламные объявления. Доступно и обязательно для рекламных агентств.</li>
  <li><b>include_deleted</b> - Логическое TRUE или FALSE, флаг, задающий необходимость вывода архивных объявлений.</li>
  <li><b>campaign_ids</b> - Числовой вектор, фильтр по рекламным кампаниям.</li>
  <li><b>ad_ids</b> - Числовой вектор, фильтр по рекламным объявлениям.</li>
  <li><b>access_token</b> - Токен доступа к API, полученный с помощью функций vkAuth или vkGetToken</li>
</ul>

<h4 id="получить-список-рекламных-кампаний-из-рекламного-кабинета-вконтакте">Получить список рекламных кампаний из рекламного кабинета вконтакте</h4>
<div class="highlighter-rouge"><pre class="highlight"><code>##Авторизация в вконтакте
my_tok &lt;- vkAuth(app_id = 11111111,app_secret = "H2Pk8htyFD8024mZaPHm")
#Получаем список рекламных кампаний
my_vk_campaigns &lt;- vkGetAdCampaigns(account_id = 11111111, 
                                    access_token = my_tok$access_token)
</code></pre>
</div>
<h5 id="аргументы-4">Аргументы</h5>
<ul>
  <li><b>account_id</b> - Идентификатор рекламного кабинета, список всех доступных рекламных кабинетов можно получить с помщью функции vkGetAdAccounts.</li>
  <li><b>client_id</b> - Идентификатор клиента, у которого запрашиваются рекламные объявления. Доступно и обязательно для рекламных агентств.</li>
  <li><b>include_deleted</b> - Логическое TRUE или FALSE, флаг, задающий необходимость вывода архивных объявлений.</li>
  <li><b>campaign_ids</b> - Числовой вектор, фильтр по рекламным кампаниям.</li>
  <li><b>access_token</b> - Токен доступа к API, полученный с помощью функций vkAuth или vkGetToken</li>
</ul>

<h4 id="получить-статистику-показателей-эффективности-по-рекламным-объявлениям-кампаниям-клиентам-или-всему-кабинету">Получить статистику показателей эффективности по рекламным объявлениям, кампаниям, клиентам или всему кабинету.</h4>
<div class="highlighter-rouge"><pre class="highlight"><code>##Авторизация в вконтакте
my_tok &lt;- vkAuth(app_id = 11111111,app_secret = "H2Pk8htyFD8024mZaPHm")

##Получаем список рекламных кампаний
camp &lt;- vkGetAdCampaigns(account_id = 11111111, access_token = my_tok$access_token)

##Получаем статистику по рекламным кампаниям по дням
vk_stat_by_campaign &lt;- vkGetAdStatistics(account_id = 11111111,
                                         ids_type = "campaign",
                                         ids = camp$id ,
                                         period = "day",
                                         date_from = "2010-01-01", 
                                         date_to = "2017-09-10",
                                         access_token = my_tok$access_token)
										
</code></pre>
</div>
<h5 id="аргументы-5">Аргументы</h5>
<ul>
  <li><b>account_id</b> - Идентификатор рекламного кабинета, список всех доступных рекламных кабинетов можно получить с помщью функции vkGetAdAccounts.</li>
  <li><b>ids_type</b> - Тип запрашиваемых объектов, которые перечислены в параметре ids, допустимые значения:
    <ul>
      <li>ad — объявления</li>
      <li>campaign — кампании</li>
      <li>client — клиенты</li>
      <li>office — кабинет</li>
    </ul>
  </li>
  <li><b>ids</b> - Перечисленные через запятую id запрашиваемых объявлений, кампаний, клиентов или кабинета, в зависимости от того, что указано в параметре ids_type.</li>
  <li><b>period</b> - Способ группировки данных по датам, допустимые значения:
    <ul>
      <li>day — статистика по дням</li>
      <li>month — статистика по месяцам</li>
      <li>overall — статистика за всё время</li>
    </ul>
  </li>
  <li><b>date_from</b> - Начальная дата выводимой статистики. Используется разный формат дат для разного значения параметра period
    <ul>
      <li>day: YYYY-MM-DD, пример: 2011-09-27 - 27 сентября 2011</li>
      <li>month: YYYY-MM, пример: 2011-09 - сентябрь 2011</li>
      <li>overall: 0</li>
    </ul>
  </li>
  <li><b>date_to</b> - Конечная дата выводимой статистики. Используется разный формат дат для разного значения параметра period:
    <ul>
      <li>day: YYYY-MM-DD, пример: 2011-09-27 - 27 сентября 2011</li>
      <li>month: YYYY-MM, пример: 2011-09 - сентябрь 2011</li>
      <li>overall: 0</li>
    </ul>
  </li>
  <li><b>access_token</b> - Токен доступа к API, полученный с помощью функций vkAuth или vkGetToken</li>
</ul>

<h5 id="возвращаемые-значения">Возвращаемые значения</h5>
<ul>
  <li>id — id объекта из параметра ids</li>
  <li>type — тип объекта из параметра ids_type</li>
  <li>day (если period равен day) — день в формате YYYY-MM-DD</li>
  <li>month (если period равен month) — день в формате YYYY-MM</li>
  <li>overall (если period равен overall) — 1</li>
  <li>spent — потраченные средства</li>
  <li>impressions — просмотры</li>
  <li>clicks — клики</li>
  <li>reach (если ids_type равен ad или campaign и period равен day или month) — охват</li>
  <li>video_views (если ids_type равен ad) — просмотры видеоролика (для видеорекламы)</li>
  <li>video_views_half (если ids_type равен ad) — просмотры половины видеоролика (для видеорекламы)</li>
  <li>video_views_full (если ids_type равен ad) — просмотры целого видеоролика (для видеорекламы)</li>
  <li>video_clicks_site (если ids_type равен ad) — переходы на сайт рекламодателя из видеорекламы (для видеорекламы)</li>
  <li>join_rate (если ids_type равен ad или campaign) — вступления в группу, событие, подписки на публичную страницу или установки приложения (только если в объявлении указана прямая ссылка на соответствующую страницу ВКонтакте)</li>
</ul>

<h4 id="получить-остаток-средств-из-рекламного-кабинета">Получить остаток средств из рекламного кабинета</h4>
<div class="highlighter-rouge"><pre class="highlight"><code>##Авторизация в вконтакте
my_tok &lt;- vkAuth(app_id = 11111111,app_secret = "H2Pk8htyFD8024mZaPHm")
#Получаем остаток средств из рекламного кабинета
vk_budget &lt;- vkGetAdBudget(account_id = 11111111, 
                           access_token = my_tok$access_token)
</code></pre>
</div>
<h5 id="аргументы-6">Аргументы</h5>
<ul>
  <li><b>account_id</b> - Идентификатор рекламного кабинета, список всех доступных рекламных кабинетов можно получить с помщью функции vkGetAdAccounts.</li>
  <li><b>access_token</b> - Токен доступа к API, полученный с помощью функций vkAuth или vkGetToken</li>
</ul>

<h4 id="получить-статистику-по-охвату-аудитории-по-рекламным-кампаним-или-объявления-в-разрезе-городов">Получить статистику по охвату аудитории по рекламным кампаним или объявления в разрезе городов</h4>
<div class="highlighter-rouge"><pre class="highlight"><code>##Авторизация в вконтакте
my_tok &lt;- vkAuth(app_id = 11111111,app_secret = "H2Pk8htyFD8024mZaPHm")

##Получаем список рекламных кампаний
camp &lt;- vkGetAdCampaigns(account_id = 11111111, access_token = my_tok$access_token)

##Получаем статистику по рекламным кампаниям по дням
vk_ad_city_stat_day &lt;- vkGetAdCityStats(account_id = 11111111,
                                        ids_type = "campaign",
                                        ids = camp$id ,
                                        period = "day",
                                        date_from = "2010-01-01", 
                                        date_to = "2017-09-10",
                                        access_token = my_tok$access_token)
										
</code></pre>
</div>
<h5 id="аргументы-7">Аргументы</h5>
<ul>
  <li><b>account_id</b> - Идентификатор рекламного кабинета, список всех доступных рекламных кабинетов можно получить с помщью функции vkGetAdAccounts.</li>
  <li><b>ids_type</b> - Тип запрашиваемых объектов, которые перечислены в параметре ids, допустимые значения:
    <ul>
      <li>ad — объявления</li>
      <li>campaign — кампании</li>
    </ul>
  </li>
  <li><b>ids</b> - Перечисленные через запятую id запрашиваемых объявлений, кампаний, клиентов или кабинета, в зависимости от того, что указано в параметре ids_type.</li>
  <li><b>period</b> - Способ группировки данных по датам, допустимые значения:
    <ul>
      <li>day — статистика по дням</li>
      <li>month — статистика по месяцам</li>
      <li>overall — статистика за всё время</li>
    </ul>
  </li>
  <li><b>date_from</b> - Начальная дата выводимой статистики. Используется разный формат дат для разного значения параметра period
    <ul>
      <li>day: YYYY-MM-DD, пример: 2011-09-27 - 27 сентября 2011</li>
      <li>month: YYYY-MM, пример: 2011-09 - сентябрь 2011</li>
      <li>overall: 0</li>
    </ul>
  </li>
  <li><b>date_to</b> - Конечная дата выводимой статистики. Используется разный формат дат для разного значения параметра period:
    <ul>
      <li>day: YYYY-MM-DD, пример: 2011-09-27 - 27 сентября 2011</li>
      <li>month: YYYY-MM, пример: 2011-09 - сентябрь 2011</li>
      <li>overall: 0</li>
    </ul>
  </li>
  <li><b>access_token</b> - Токен доступа к API, полученный с помощью функций vkAuth или vkGetToken</li>
</ul>

<h5 id="возвращаемые-значения-1">Возвращаемые значения</h5>
<ul>
  <li>id — id объекта из параметра ids</li>
  <li>type — тип объекта из параметра ids_type</li>
  <li>day (если period равен day) — день в формате YYYY-MM-DD</li>
  <li>month (если period равен month) — день в формате YYYY-MM</li>
  <li>overall (если period равен overall) — 1</li>
  <li>city_id — id города или other для остальных городов</li>
  <li>city_name — id города или other для остальных городов</li>
  <li>impressions_rate — часть аудитории, просмотревшая объявление, от 0 до 1.</li>
  <li>clicks_rate — часть аудитории, кликнувшая по объявлению, от 0 до 1.</li>
</ul>

<h4 id="получить-статистику-по-охвату-аудитории-по-рекламным-кампаним-или-объявления-в-разрезе-пола">Получить статистику по охвату аудитории по рекламным кампаним или объявления в разрезе пола</h4>
<div class="highlighter-rouge"><pre class="highlight"><code>##Авторизация в вконтакте
my_tok &lt;- vkAuth(app_id = 11111111,app_secret = "H2Pk8htyFD8024mZaPHm")

##Получаем список рекламных кампаний
camp &lt;- vkGetAdCampaigns(account_id = 11111111, access_token = my_tok$access_token)

##Получаем статистику по рекламным кампаниям по дням
vk_ad_gender_stat_day &lt;- vkGetAdGenderStats(account_id = 11111111,
                                            ids_type = "campaign",
                                            ids = camp$id ,
                                            period = "day",
                                            date_from = "2010-01-01", 
                                            date_to = "2017-09-10",
                                            access_token = my_tok$access_token)
</code></pre>
</div>
<h5 id="аргументы-8">Аргументы</h5>
<ul>
  <li><b>account_id</b> - Идентификатор рекламного кабинета, список всех доступных рекламных кабинетов можно получить с помщью функции vkGetAdAccounts.</li>
  <li><b>ids_type</b> - Тип запрашиваемых объектов, которые перечислены в параметре ids, допустимые значения:
    <ul>
      <li>ad — объявления</li>
      <li>campaign — кампании</li>
    </ul>
  </li>
  <li><b>ids</b> - Перечисленные через запятую id запрашиваемых объявлений, кампаний, клиентов или кабинета, в зависимости от того, что указано в параметре ids_type.</li>
  <li><b>period</b> - Способ группировки данных по датам, допустимые значения:
    <ul>
      <li>day — статистика по дням</li>
      <li>month — статистика по месяцам</li>
      <li>overall — статистика за всё время</li>
    </ul>
  </li>
  <li><b>date_from</b> - Начальная дата выводимой статистики. Используется разный формат дат для разного значения параметра period
    <ul>
      <li>day: YYYY-MM-DD, пример: 2011-09-27 - 27 сентября 2011</li>
      <li>month: YYYY-MM, пример: 2011-09 - сентябрь 2011</li>
      <li>overall: 0</li>
    </ul>
  </li>
  <li><b>date_to</b> - Конечная дата выводимой статистики. Используется разный формат дат для разного значения параметра period:
    <ul>
      <li>day: YYYY-MM-DD, пример: 2011-09-27 - 27 сентября 2011</li>
      <li>month: YYYY-MM, пример: 2011-09 - сентябрь 2011</li>
      <li>overall: 0</li>
    </ul>
  </li>
  <li><b>access_token</b> - Токен доступа к API, полученный с помощью функций vkAuth или vkGetToken</li>
</ul>

<h5 id="возвращаемые-значения-2">Возвращаемые значения</h5>
<ul>
  <li>id — id объекта из параметра ids</li>
  <li>type — тип объекта из параметра ids_type</li>
  <li>day (если period равен day) — день в формате YYYY-MM-DD</li>
  <li>month (если period равен month) — день в формате YYYY-MM</li>
  <li>overall (если period равен overall) — 1</li>
  <li>gender — пол, f - женский, m - мужской</li>
  <li>impressions_rate — часть аудитории, просмотревшая объявление, от 0 до 1.</li>
  <li>clicks_rate — часть аудитории, кликнувшая по объявлению, от 0 до 1.</li>
</ul>

<h4 id="получить-статистику-по-охвату-аудитории-по-рекламным-кампаним-или-объявления-в-разрезе-возраста">Получить статистику по охвату аудитории по рекламным кампаним или объявления в разрезе возраста</h4>
<div class="highlighter-rouge"><pre class="highlight"><code>##Авторизация в вконтакте
my_tok &lt;- vkAuth(app_id = 11111111,app_secret = "H2Pk8htyFD8024mZaPHm")

##Получаем список рекламных кампаний
camp &lt;- vkGetAdCampaigns(account_id = 11111111, access_token = my_tok$access_token)

##Получаем статистику по рекламным кампаниям по дням
vk_ad_age_stat_day &lt;- vkGetAdAgeStats(account_id = 1,
                                      ids_type = "campaign",
                                      ids = camp$id ,
                                      period = "day",
                                      date_from = "2010-01-01", 
                                      date_to = "2017-09-10",
                                      access_token = my_tok$access_token)
</code></pre>
</div>
<h5 id="аргументы-9">Аргументы</h5>
<ul>
  <li><b>account_id</b> - Идентификатор рекламного кабинета, список всех доступных рекламных кабинетов можно получить с помщью функции vkGetAdAccounts.</li>
  <li><b>ids_type</b> - Тип запрашиваемых объектов, которые перечислены в параметре ids, допустимые значения:
    <ul>
      <li>ad — объявления</li>
      <li>campaign — кампании</li>
    </ul>
  </li>
  <li><b>ids</b> - Перечисленные через запятую id запрашиваемых объявлений, кампаний, клиентов или кабинета, в зависимости от того, что указано в параметре ids_type.</li>
  <li><b>period</b> - Способ группировки данных по датам, допустимые значения:
    <ul>
      <li>day — статистика по дням</li>
      <li>month — статистика по месяцам</li>
      <li>overall — статистика за всё время</li>
    </ul>
  </li>
  <li><b>date_from</b> - Начальная дата выводимой статистики. Используется разный формат дат для разного значения параметра period
    <ul>
      <li>day: YYYY-MM-DD, пример: 2011-09-27 - 27 сентября 2011</li>
      <li>month: YYYY-MM, пример: 2011-09 - сентябрь 2011</li>
      <li>overall: 0</li>
    </ul>
  </li>
  <li><b>date_to</b> - Конечная дата выводимой статистики. Используется разный формат дат для разного значения параметра period:
    <ul>
      <li>day: YYYY-MM-DD, пример: 2011-09-27 - 27 сентября 2011</li>
      <li>month: YYYY-MM, пример: 2011-09 - сентябрь 2011</li>
      <li>overall: 0</li>
    </ul>
  </li>
  <li><b>access_token</b> - Токен доступа к API, полученный с помощью функций vkAuth или vkGetToken</li>
</ul>

<h5 id="возвращаемые-значения-3">Возвращаемые значения</h5>
<ul>
  <li>id — id объекта из параметра ids</li>
  <li>type — тип объекта из параметра ids_type</li>
  <li>day (если period равен day) — день в формате YYYY-MM-DD</li>
  <li>month (если period равен month) — день в формате YYYY-MM</li>
  <li>overall (если period равен overall) — 1</li>
  <li>age — возрастная группа (12-18, 18-21, 21-24, 24-27, 27-30, 30-35, 35-45, 45-100)</li>
  <li>impressions_rate — часть аудитории, просмотревшая объявление, от 0 до 1.</li>
  <li>clicks_rate — часть аудитории, кликнувшая по объявлению, от 0 до 1.</li>
</ul>

<h4 id="получить-статистику-по-охвату-аудитории-по-рекламным-кампаним-или-объявления-в-разрезе-пола-и-возраста">Получить статистику по охвату аудитории по рекламным кампаним или объявления в разрезе пола и возраста</h4>
<div class="highlighter-rouge"><pre class="highlight"><code>##Авторизация в вконтакте
my_tok &lt;- vkAuth(app_id = 11111111,app_secret = "H2Pk8htyFD8024mZaPHm")

##Получаем список рекламных кампаний
camp &lt;- vkGetAdCampaigns(account_id = 11111111, access_token = my_tok$access_token)

##Получаем статистику по рекламным кампаниям по дням
vk_ad_gender_age_stat_day &lt;- vkGetAdGenderAgeStats(account_id = 11111111,
                                                   ids_type = "campaign",
                                                   ids = camp$id ,
                                                   period = "day",
                                                   date_from = "2010-01-01", 
                                                   date_to = "2017-09-10",
                                                   access_token = my_tok$access_token)
</code></pre>
</div>
<h5 id="аргументы-10">Аргументы</h5>
<ul>
  <li><b>account_id</b> - Идентификатор рекламного кабинета, список всех доступных рекламных кабинетов можно получить с помщью функции vkGetAdAccounts.</li>
  <li><b>ids_type</b> - Тип запрашиваемых объектов, которые перечислены в параметре ids, допустимые значения:
    <ul>
      <li>ad — объявления</li>
      <li>campaign — кампании</li>
    </ul>
  </li>
  <li><b>ids</b> - Перечисленные через запятую id запрашиваемых объявлений, кампаний, клиентов или кабинета, в зависимости от того, что указано в параметре ids_type.</li>
  <li><b>period</b> - Способ группировки данных по датам, допустимые значения:
    <ul>
      <li>day — статистика по дням</li>
      <li>month — статистика по месяцам</li>
      <li>overall — статистика за всё время</li>
    </ul>
  </li>
  <li><b>date_from</b> - Начальная дата выводимой статистики. Используется разный формат дат для разного значения параметра period
    <ul>
      <li>day: YYYY-MM-DD, пример: 2011-09-27 - 27 сентября 2011</li>
      <li>month: YYYY-MM, пример: 2011-09 - сентябрь 2011</li>
      <li>overall: 0</li>
    </ul>
  </li>
  <li><b>date_to</b> - Конечная дата выводимой статистики. Используется разный формат дат для разного значения параметра period:
    <ul>
      <li>day: YYYY-MM-DD, пример: 2011-09-27 - 27 сентября 2011</li>
      <li>month: YYYY-MM, пример: 2011-09 - сентябрь 2011</li>
      <li>overall: 0</li>
    </ul>
  </li>
  <li><b>access_token</b> - Токен доступа к API, полученный с помощью функций vkAuth или vkGetToken</li>
</ul>

<h5 id="возвращаемые-значения-4">Возвращаемые значения</h5>
<ul>
  <li>id — id объекта из параметра ids</li>
  <li>type — тип объекта из параметра ids_type</li>
  <li>day (если period равен day) — день в формате YYYY-MM-DD</li>
  <li>month (если period равен month) — день в формате YYYY-MM</li>
  <li>overall (если period равен overall) — 1</li>
  <li>gender - пол (f — женщины, m — мужчины)</li>
  <li>age — возрастная группа (12-18, 18-21, 21-24, 24-27, 27-30, 30-35, 35-45, 45-100)</li>
  <li>impressions_rate — часть аудитории, просмотревшая объявление, от 0 до 1</li>
  <li>clicks_rate — часть аудитории, кликнувшая по объявлению, от 0 до 1</li>
</ul>

<h4 id="получить-подробную-статистику-по-охвату-рекламных-записей-из-объявлений-и-кампаний-для-продвижения-записей-сообщества">Получить подробную статистику по охвату рекламных записей из объявлений и кампаний для продвижения записей сообщества</h4>
<div class="highlighter-rouge"><pre class="highlight"><code>##Авторизация в вконтакте
my_tok &lt;- vkAuth(app_id = 11111111,app_secret = "H2Pk8htyFD8024mZaPHm")

##Получаем список рекламных кампаний
camp &lt;- vkGetAdCampaigns(account_id = 11111111, access_token = my_tok$access_token)

#Получаем данные по охвату в разрезе рекламных кампаний
post_reach &lt;- vkGetAdPostsReach(account_id = 11111111,
                                ids_type = "campaign",
                                ids = camp$id,
                                access_token = my_tok$access_token)
</code></pre>
</div>
<h5 id="аргументы-11">Аргументы</h5>
<ul>
  <li><b>account_id</b> - Идентификатор рекламного кабинета, список всех доступных рекламных кабинетов можно получить с помщью функции vkGetAdAccounts.</li>
  <li><b>ids_type</b> - Тип запрашиваемых объектов, которые перечислены в параметре ids, допустимые значения:
    <ul>
      <li>ad — объявления</li>
      <li>campaign — кампании</li>
    </ul>
  </li>
  <li><b>ids</b> - Перечисленные через запятую id запрашиваемых объявлений, кампаний, клиентов или кабинета, в зависимости от того, что указано в параметре ids_type.</li>
  <li><b>access_token</b> - Токен доступа к API, полученный с помощью функций vkAuth или vkGetToken</li>
</ul>

<h5 id="возвращаемые-значения-5">Возвращаемые значения</h5>
<ul>
  <li>id — ID объекта из параметра ids</li>
  <li>reach_subscribers - Охват подписчиков</li>
  <li>reach_total - Суммарный охват</li>
  <li>links - Переходы по ссылке</li>
  <li>to_group - Переходы в сообщество</li>
  <li>join_group - Вступления в сообщество</li>
  <li>report - Количество жалоб на запись</li>
  <li>hide - Количество скрытий записи</li>
  <li>unsubscribe - Количество отписавшихся участников</li>
  <li>video_views_start - Количество стартов просмотра видео</li>
  <li>video_views_3s - Количество досмотров видео до 3 секунд</li>
  <li>video_views_25p - Количество досмотров видео до 25 процентов</li>
  <li>video_views_50p - Количество досмотров видео до 50 процентов</li>
  <li>video_views_75p - Количество досмотров видео до 75 процентов</li>
  <li>video_views_100p - Количество досмотров видео до 100 процентов</li>
</ul>

<h3 id="функции-для-загрузки-данных-из-сообществ-вконтакте">Функции для загрузки данных из сообществ Вконтакте</h3>
<p>Во всех примерах этого раздела подразумевается что вы сначала прошли процесс авторизации с помощью функции vkAuth, пример кода ниже:</p>

<div class="highlighter-rouge"><pre class="highlight"><code>##Авторизация в вконтакте
my_tok &lt;- vkAuth(app_id = 1,app_secret = "H2Pk8htyFD8024mZaPHm")
</code></pre>
</div>

<h4 id="получить-данные-о-количестве-просмотров-посетителях-подписавшихся-и-отписавшихся-посетителей-по-дням">Получить данные о количестве просмотров, посетителях, подписавшихся и отписавшихся посетителей по дням</h4>

<div class="highlighter-rouge"><pre class="highlight"><code>communityData &lt;- vkGetGroupStat(date_from = "2016-01-01", 
                                date_to = "2016-04-01", 
                                group_id = 1, 
                                access_token = my_tok$access_token)
</code></pre>
</div>
<h5 id="аргументы-12">Аргументы</h5>
<ul>
  <li><b>date_from</b> - Начальная дата выводимой статистики в формате YYYY-MM-DD.</li>
  <li><b>date_to</b> - Конечная дата выводимой статистики в формате YYYY-MM-DD.</li>
  <li><b>group_id</b> - Идентификатор сообщества.</li>
  <li><b>access_token</b> - Токен доступа к API, полученный с помощью функций vkAuth или vkGetToken</li>
</ul>

<h4 id="получить-данные-о-возрастных-группах-посетителей-по-дням">Получить данные о возрастных группах посетителей по дням.</h4>

<div class="highlighter-rouge"><pre class="highlight"><code>communityDataAge &lt;- vkGetGroupStatAge(date_from = "2016-01-01", 
                                      date_to = "2016-04-01", 
                                      group_id = 1, 
                                      access_token = my_tok$access_token)
</code></pre>
</div>
<h5 id="аргументы-13">Аргументы</h5>
<ul>
  <li><b>date_from</b> - Начальная дата выводимой статистики в формате YYYY-MM-DD.</li>
  <li><b>date_to</b> - Конечная дата выводимой статистики в формате YYYY-MM-DD.</li>
  <li><b>group_id</b> - Идентификатор сообщества.</li>
  <li><b>access_token</b> - Токен доступа к API, полученный с помощью функций vkAuth или vkGetToken</li>
</ul>

<h4 id="получить-данные-о-поле-посетителей-по-дням">Получить данные о поле посетителей по дням.</h4>

<div class="highlighter-rouge"><pre class="highlight"><code>communityDataGender &lt;- vkGetGroupStatGender(date_from = "2016-01-01", 
                                            date_to = "2016-04-01", 
                                            group_id = 1, 
                                            access_token = my_tok$access_token)
</code></pre>
</div>
<h5 id="аргументы-14">Аргументы</h5>
<ul>
  <li><b>date_from</b> - Начальная дата выводимой статистики в формате YYYY-MM-DD.</li>
  <li><b>date_to</b> - Конечная дата выводимой статистики в формате YYYY-MM-DD.</li>
  <li><b>group_id</b> - Идентификатор сообщества.</li>
  <li><b>access_token</b> - Токен доступа к API, полученный с помощью функций vkAuth или vkGetToken</li>
</ul>

<h4 id="получить-данные-о-половозрастной-структуре-ваших-посетителей-по-дням">Получить данные о половозрастной структуре ваших посетителей по дням.</h4>

<div class="highlighter-rouge"><pre class="highlight"><code>communityDataGenderAge &lt;- vkGetGroupStatGenderAge(date_from = "2016-01-01", 
                                                  date_to = "2016-04-01", 
                                                  group_id = 1, 
                                                  access_token = my_tok$access_token)
</code></pre>
</div>
<h5 id="аргументы-15">Аргументы</h5>
<ul>
  <li><b>date_from</b> - Начальная дата выводимой статистики в формате YYYY-MM-DD.</li>
  <li><b>date_to</b> - Конечная дата выводимой статистики в формате YYYY-MM-DD.</li>
  <li><b>group_id</b> - Идентификатор сообщества.</li>
  <li><b>access_token</b> - Токен доступа к API, полученный с помощью функций vkAuth или vkGetToken</li>
</ul>

<h4 id="получить-данные-о-городах-посетителей">Получить данные о городах посетителей.</h4>

<div class="highlighter-rouge"><pre class="highlight"><code>communityDataCity &lt;- vkGetGroupStatCity(date_from = "2016-01-01", 
                                        date_to = "2016-04-01", 
                                        group_id = 1, 
                                        access_token = my_tok$access_token)
</code></pre>
</div>
<h5 id="аргументы-16">Аргументы</h5>
<ul>
  <li><b>date_from</b> - Начальная дата выводимой статистики в формате YYYY-MM-DD.</li>
  <li><b>date_to</b> - Конечная дата выводимой статистики в формате YYYY-MM-DD.</li>
  <li><b>group_id</b> - Идентификатор сообщества.</li>
  <li><b>access_token</b> - Токен доступа к API, полученный с помощью функций vkAuth или vkGetToken</li>
</ul>

<h4 id="получить-данные-о-странах-посетителей">Получить данные о странах посетителей.</h4>

<div class="highlighter-rouge"><pre class="highlight"><code>communityDataCountries &lt;- vkGetGroupStatCountries(date_from = "2016-01-01", 
                                                  date_to = "2016-04-01", 
                                                  group_id = 1, 
                                                  access_token = my_tok$access_token)
</code></pre>
</div>
<h5 id="аргументы-17">Аргументы</h5>
<ul>
  <li><b>date_from</b> - Начальная дата выводимой статистики в формате YYYY-MM-DD.</li>
  <li><b>date_to</b> - Конечная дата выводимой статистики в формате YYYY-MM-DD.</li>
  <li><b>group_id</b> - Идентификатор сообщества.</li>
  <li><b>access_token</b> - Токен доступа к API, полученный с помощью функций vkAuth или vkGetToken</li>
</ul>

<h3 id="функции-для-загрузки-справочной-информации-из-вконтакте">Функции для загрузки справочной информации из Вконтакте</h3>
<p>Во всех примерах этого раздела подразумевается что вы сначала прошли процесс авторизации с помощью функции vkAuth, пример кода ниже:</p>

<div class="highlighter-rouge"><pre class="highlight"><code>##Авторизация в вконтакте
my_tok &lt;- vkAuth(app_id = 1,app_secret = "H2Pk8htyFD8024mZaPHm")
</code></pre>
</div>

<h4 id="получить-id-и-название-стран">Получить id и название стран</h4>
<div class="highlighter-rouge"><pre class="highlight"><code>##Получаем список стран
vk_countries &lt;- vkGetDbCountries(need_all = T,
                                 code = c("RU","UA","BY"),
                                 access_token = my_tok$access_token)
</code></pre>
</div>
<h5 id="аргументы-18">Аргументы</h5>
<ul>
  <li><b>need_all</b> - Логическое TRUE или FALSE, флаг - вернуть список всех стран.</li>
  <li><b>code</b> - Текстовый вектор, двухбуквенные коды стран в стандарте ISO 3166-1 alpha-2, для которых необходимо выдать информацию. Пример c(“RU”,”UA”,”BY”), список всех кодов можно посмотреть по ссылке - https://vk.com/dev/country_codes. Не обязательный аргумент.</li>
  <li><b>access_token</b> - Токен доступа к API, полученный с помощью функций vkAuth или vkGetToken</li>
</ul>

<h4 id="получить-справочник-городов">Получить справочник городов</h4>
<div class="highlighter-rouge"><pre class="highlight"><code>##Получаем справочник городов Украины, т.к. id Украины = 2
vk_cities &lt;- vkGetDbCities(country_id = 2,
                           access_token = my_tok$access_token)
</code></pre>
</div>
<h5 id="аргументы-19">Аргументы</h5>
<ul>
  <li><b>country_id</b> - Идентификатор страны, полученный с помощью функции vkGetDbCountries.</li>
  <li><b>region_id</b> - Идентификатор региона, города которого необходимо получить. (параметр не обязателен).}</li>
  <li><b>q</b> - Строка поискового запроса. Например, “Санкт”. Максимальная длина строки — 15 символов.</li>
  <li><b>need_all</b> - Логическое TRUE или FALSE, флаг - вернуть список всех городов страны указанной в аргументе country_id.</li>
  <li><b>access_token</b> - Токен доступа к API, полученный с помощью функций vkAuth или vkGetToken</li>
</ul>

<h4 id="получить-справочник-регионов">Получить справочник регионов</h4>
<div class="highlighter-rouge"><pre class="highlight"><code>##Получаем справочник городов Украины, т.к. id Украины = 2, по запросу "Оде"
vk_regions_search  &lt;- vkGetDbRegions(country_id = 2,
                                     q = "Оде",
                                     access_token = my_tok$access_token)
</code></pre>
</div>
<h5 id="аргументы-20">Аргументы</h5>
<ul>
  <li><b>country_id</b> - Идентификатор страны, полученный с помощью функции vkGetDbCountries.</li>
  <li><b>q</b> - Строка поискового запроса. Например, “Санкт”. Максимальная длина строки — 15 символов.</li>
  <li><b>access_token</b> - Токен доступа к API, полученный с помощью функций vkAuth или vkGetToken</li>
</ul>

<h3 id="функции-для-загрузки-инормации-о-пользователе-вконтакте">Функции для загрузки инормации о пользователе Вконтакте</h3>
<p>Во всех примерах этого раздела подразумевается что вы сначала прошли процесс авторизации с помощью функции vkAuth, пример кода ниже:</p>

<div class="highlighter-rouge"><pre class="highlight"><code>##Авторизация в вконтакте
my_tok &lt;- vkAuth(app_id = 1,app_secret = "H2Pk8htyFD8024mZaPHm")
</code></pre>
</div>

<h4 id="получиить-список-друзей-пользователя-вконтакте">Получиить список друзей пользователя Вконтакте.</h4>
<div class="highlighter-rouge"><pre class="highlight"><code>my_vk_friends &lt;- vkGetUserfriends(user_id = 7437995,
                                  access_token = my_tok$access_token)
</code></pre>
</div>
<h5 id="аргументы-21">Аргументы</h5>
<ul>
  <li><b>user_id</b> - Идентификатор пользователя, для которого необходимо получить список друзей. Если параметр не задан, то считается, что он равен идентификатору текущего пользователя.</li>
  <li><b>name_case</b> - Падеж для склонения имени и фамилии пользователя. Возможные значения:
    <ul>
      <li>именительный – nom</li>
      <li>родительный – gen</li>
      <li>дательный – dat</li>
      <li>винительный – acc</li>
      <li>творительный – ins</li>
      <li>предложный – abl</li>
      <li>По умолчанию - nom</li>
    </ul>
  </li>
  <li><b>access_token</b>Токен доступа к API, полученный с помощью функций vkAuth или vkGetToken</li>
</ul>

<h5 id="возвращаемые-значения-6">Возвращаемые значения</h5>
<ul>
  <li>user_id - Идентификатор пользователя.</li>
  <li>first_name - Имя.</li>
  <li>last_name - Фамилия.</li>
  <li>gender - Пол.</li>
  <li>nickname - Никнейм (отчество) пользователя.</li>
  <li>domain - Короткий адрес страницы. Возвращается строка, содержащая короткий адрес страницы (например, andrew). Если он не назначен, возвращается “id”+user_id, например, id35828305.</li>
  <li>bdate - Дата рождения. Возвращается в формате D.M.YYYY или D.M (если год рождения скрыт). Если дата рождения скрыта целиком, поле отсутствует в ответе.</li>
  <li>city - ID города, название города можно получить с помощью функции vkGetDbCities.</li>
  <li>country - ID страны, название страны можно получить с помощью функции vkGetDbCountries.</li>
  <li>photo_50 - Url квадратной фотографии пользователя, имеющей ширину 50 пикселей. В случае отсутствия у пользователя фотографии возвращается http://vk.com/images/camera_c.gif.</li>
  <li>photo_100 - Url квадратной фотографии пользователя, имеющей ширину 100 пикселей. В случае отсутствия у пользователя фотографии возвращается http://vk.com/images/camera_b.gif.</li>
  <li>photo_200_orig - Url фотографии пользователя, имеющей ширину 200 пикселей. В случае отсутствия у пользователя фотографии возвращается http://vk.com/images/camera_a.gif.</li>
  <li>has_mobile - Информация о том, известен ли номер мобильного телефона пользователя. Возвращаемые значения: 1 — известен, 0 — не известен.</li>
  <li>online - Информация о том, находится ли пользователь сейчас на сайте.</li>
  <li>can_post - Информация о том, может ли текущий пользователь оставлять записи на стене. Возможные значения:
    <ul>
      <li>1 — может</li>
      <li>0 — не может.</li>
    </ul>
  </li>
  <li>can_see_all_posts - Информация о том, может ли текущий пользователь видеть чужие записи на стене. Возможные значения:
    <ul>
      <li>1 — может</li>
      <li>0 — не может.</li>
    </ul>
  </li>
  <li>can_write_private_message - Информация о том, может ли текущий пользователь отправить личное сообщение. Возможные значения:
    <ul>
      <li>1 — может</li>
      <li>0 — не может.</li>
    </ul>
  </li>
  <li>status - Статус пользователя. Возвращается строка, содержащая текст статуса, расположенного в профиле под именем пользователя.</li>
  <li>last_seen_time - Дата и время время последнего посещения.</li>
  <li>last_seen_platform - Тип платформы, через которую был осуществлён последний вход. Возможные значения:
    <ul>
      <li>1 — мобильная версия</li>
      <li>2 — приложение для iPhone</li>
      <li>3 — приложение для iPad</li>
      <li>4 — приложение для Android</li>
      <li>5 — приложение для Windows Phone</li>
      <li>6 — приложение для Windows 10</li>
      <li>7 — полная версия сайта.</li>
    </ul>
  </li>
  <li>university - Идентификатор университета.</li>
  <li>university_name - Название университета.</li>
  <li>faculty - Идентификатор факультета.</li>
  <li>faculty_name - Название факультета.</li>
  <li>graduation - Год окончания.</li>
  <li>education_form - Форма обучения</li>
  <li>education_status - Статус (например, “Выпускник (специалист)”)</li>
  <li>relation - Семейное положение пользователя. Возможные значения:
    <ul>
      <li>1 — не женат/не замужем</li>
      <li>2 — есть друг/есть подруга</li>
      <li>3 — помолвлен/помолвлена</li>
      <li>4 — женат/замужем</li>
      <li>5 — всё сложно</li>
      <li>6 — в активном поиске</li>
      <li>7 — влюблён/влюблена</li>
      <li>8 — в гражданском браке</li>
      <li>0 — не указано.}</li>
    </ul>
  </li>
</ul>

<h4 id="получить-список-групп-и-сообществ-в-которых-состоит-пользователь-вконтакте">Получить список групп и сообществ в которых состоит пользователь Вконтакте</h4>
<div class="highlighter-rouge"><pre class="highlight"><code>my_vk_community &lt;- vkGetUserGroups(user_id = 7437995,
                                   access_token = my_tok$access_token)
</code></pre>
</div>
<h5 id="аргументы-22">Аргументы</h5>
<ul>
  <li><b>user_id</b> - Идентификатор пользователя, для которого необходимо получить список друзей. Если параметр не задан, то считается, что он равен идентификатору текущего пользователя.</li>
  <li><b>filter</b> - Текстовый вектор фильтров сообществ, которые необходимо вернуть. Возможные значения
    <ul>
      <li>admin - сообщества, в которых пользователь является администратором</li>
      <li>editor - администратором или редактором</li>
      <li>moder – администратором, редактором или модератором</li>
      <li>groups – группы</li>
      <li>publics – публичные страницы</li>
      <li>events – мероприятия</li>
      <li>По умолчанию возвращаются все сообщества пользователя.</li>
    </ul>
  </li>
  <li><b>access_token</b>Токен доступа к API, полученный с помощью функций vkAuth или vkGetToken</li>
</ul>

<h5 id="возвращаемые-значения-7">Возвращаемые значения</h5>
<ul>
  <li>gid - Идентификатор сообщества.</li>
  <li>name - Название сообщества.</li>
  <li>screen_name - Короткий адрес, например, apiclub.</li>
  <li>is_closed - Является ли сообщество закрытым. Возможные значения:
    <ul>
      <li>0 — открытое</li>
      <li>1 — закрытое</li>
      <li>2 — частное</li>
    </ul>
  </li>
  <li>type - Тип сообщества:
    <ul>
      <li>group — группа</li>
      <li>page — публичная страница</li>
      <li>event — мероприятие.</li>
    </ul>
  </li>
  <li>description - Текст описания сообщества.</li>
  <li>wiki_page - Название главной вики-страницы.</li>
  <li>members_count - Количество участников.</li>
  <li>start_date - Дата основания.</li>
  <li>can_post - Информация о том, может ли текущий пользователь оставлять записи на стене сообщества. Возможные значения:
    <ul>
      <li>1 — может</li>
      <li>0 — не может.</li>
    </ul>
  </li>
  <li>can_see_all_posts - Информация о том, разрешено ли видеть чужие записи на стене группы. Возможные значения:
    <ul>
      <li>1 — может</li>
      <li>0 — не может.</li>
    </ul>
  </li>
  <li>activity - Строка состояния публичной страницы. У групп возвращается строковое значение, открыта ли группа или нет, а у событий дата начала.</li>
  <li>status - Статус сообщества.</li>
  <li>fixed_post - Идентификатор закрепленной записи.</li>
  <li>verified - Информация о том, верифицировано ли сообщество. Возможные значения:
    <ul>
      <li>1 — может</li>
      <li>0 — не может.</li>
    </ul>
  </li>
  <li>site - Адрес сайта из поля «веб-сайт» в описании сообщества.</li>
  <li>can_create_topic - Информация о том, может ли текущий пользователь создать новое обсуждение в группе. Возможные значения:
    <ul>
      <li>1 — может,</li>
      <li>0 — не может.</li>
    </ul>
  </li>
  <li>photo - URL главной фотографии с размером 50x50px.</li>
  <li>photo_medium - URL главной фотографии с размером 100х100px.</li>
  <li>photo_big - URL главной фотографии в максимальном размере.</li>
</ul>

<h4 id="получить-сообщения-со-стены-пользователя-с-количеством-комментариев-лайков-и-рипостов">Получить сообщения со стены пользователя с количеством комментариев, лайков и рипостов</h4>
<div class="highlighter-rouge"><pre class="highlight"><code>my_vk_wall &lt;- vkGetUserWall(user_id = 7437995,
                            access_token = my_tok$access_token)
</code></pre>
</div>
<h5 id="аргументы-23">Аргументы</h5>
<ul>
  <li><b>user_id</b> - Идентификатор пользователя, для которого необходимо получить список друзей. Если параметр не задан, то считается, что он равен идентификатору текущего пользователя.</li>
  <li><b>domain</b> - Короткий адрес пользователя</li>
  <li><b>filter</b> - определяет, какие типы записей на стене необходимо получить. Возможные значения:
    <ul>
      <li>suggests — предложенные записи на стене сообщества</li>
      <li>postponed — отложенные записи</li>
      <li>owner — записи владельца стены</li>
      <li>others — записи не от владельца стены</li>
      <li>all — все записи на стене (owner + others)</li>
      <li>По умолчанию: all.</li>
    </ul>
  </li>
  <li><b>access_token</b>Токен доступа к API, полученный с помощью функций vkAuth или vkGetToken</li>
</ul>

<h5 id="возвращаемые-значения-8">Возвращаемые значения</h5>
<ul>
  <li>id - Идентификатор записи.</li>
  <li>from_id - Идентификатор автора записи.</li>
  <li>to_id - Идентификатор владельца стены, на которой размещена запись.</li>
  <li>date - Время публикации записи</li>
  <li>post_type - Тип записи, может принимать следующие значения: post, copy, reply, postpone, suggest.</li>
  <li>text - Текст записи.</li>
  <li>can_delete - Информация о том, может ли текущий пользователь удалить запись
    <ul>
      <li>1 — может</li>
      <li>0 — не может.</li>
    </ul>
  </li>
  <li>comments_count - Кличество комментариев.</li>
  <li>likes_count - Число пользователей, которым понравилась запись.</li>
  <li>reposts_count - Число пользователей, скопировавших запись.</li>
  <li>attachment_type - Тип медиавложения записи (фотографии, ссылки и т.п.)</li>
</ul>

<h2 id="список-статей-с-примерами-работы-с-пакетом-rvkstat">Список статей с примерами работы с пакетом rvkstat</h2>
<ul>
  <li><a href="https://netpeak.net/ru/blog/kak-perenesti-dannyye-iz-vkontakte-v-power-bi/">Как перенести данные из ВКонтакте в Power BI</a> (<a href="https://netpeak.net/ru/blog/">Блог Netpeak</a>), <em><a href="https://www.facebook.com/selesnow">Алексей Селезнёв</a></em></li>
</ul>

<h2 id="автор-пакета-алексей-селезнёв-head-of-analytics-dept-at-netpeak">Автор пакета: Алексей Селезнёв, Head of Analytics Dept. at Netpeak*</h2>
<p align="center">
<img src="https://lh3.googleusercontent.com/R-0jgJSxIIhpag2L6YCIhJVIcIWx6-Jt5UCTRJjWzJewo47u2QBnik5CRF2dNB79jmsN_BFRjVOAYfvCqFcn3UNS_thGbbxF-99c9lwBWWlFI7JCWE43K5Yk9HnIW8i8YpTDx3l28IuYswaI-qc9QosHT1lPCsVilTfXTyV2empF4S74daOJ6x5QHYRWumT_2MhUS0hPqUsKVtOoveqDnGf3cF_VsN-RfOAwG9uCeGOgNRgv_fhSr41rw4LBND4gf05nO8zMp4TZMrrcUjKvvx6qNgYDor5LFOHiRmfKISYRVkWYe4wLyGO1FgkgTDjg0300lcur2t3txVwZUgROLZdaxOLx4owa8Rc8B8VKwd3vHxjov_aVfNPT4xf9jSFBBEOI-mfYpa55ejKDw-rqTQ6miFRFWpp_hjrk9KbGyB-Z6iZvYL-2dZ6mzgpUfs2I0tEAGsV07yTzboJ0RNCByC2-U-ZVjWdp2_9Au3FFoUcdQUAmPYOVqOv4r3oLbkkJKLj2A5jp7vf4IAoExLIfJuqEf7XN7fFcv4geib029qJjBt28wnqSO6TKEwB2fesR3uPHvGB6_6NHD70UDH-aCRCK4UBeoajtU0Y8Ks8Vwxo0oZBwmoEu8gudTFBF6mDT7GjLoGLDeNxE-TG7OtWUdxsJk7yzXGW3hE-VxsMD9g=s351-no?w=300" data-canonical-src="https://alexeyseleznev.files.wordpress.com/2017/03/as.png?w=300" style="max-width:100%;" />
</p>

<h3 id="контакты">Контакты:</h3>
<nav class="jetpack-social-navigation jetpack-social-navigation-svg">
<div class="menu-%d1%81%d0%be%d1%86%d0%b8%d0%b0%d0%bb%d1%8c%d0%bd%d1%8b%d0%b5-%d1%81%d0%b5%d1%82%d0%b8-container">
<ul id="menu-%d1%81%d0%be%d1%86%d0%b8%d0%b0%d0%bb%d1%8c%d0%bd%d1%8b%d0%b5-%d1%81%d0%b5%d1%82%d0%b8" class="menu">
<li id="menu-item-13" class="menu-item menu-item-type-custom menu-item-object-custom menu-item-13"><a href="http://www.facebook.com/selesnow" target="_blank"><span class="screen-reader-text">Facebook</span></a></li>
<li id="menu-item-14" class="menu-item menu-item-type-custom menu-item-object-custom menu-item-14"><a href="https://www.linkedin.com/in/selesnow/" target="_blank"><span class="screen-reader-text">LinkedIn</span></a></li>
<li id="menu-item-15" class="menu-item menu-item-type-custom menu-item-object-custom menu-item-15"><a href="http://www.vk.com/selesnow" target="_blank"><span class="screen-reader-text">Vkontakte</span></a></li>
<li id="menu-item-16" class="menu-item menu-item-type-custom menu-item-object-custom menu-item-16"><a href="https://github.com/selesnow"><span class="screen-reader-text">GitHub</span></a></li>
<li class="menu-item menu-item-type-custom menu-item-object-custom menu-item-16"><a href="https://alexeyseleznev.wordpress.com/">Blog</a></li>
</ul>
</div>
</nav>

<p align="center">
<img src="https://alexeyseleznev.files.wordpress.com/2017/03/as.png?w=300" data-canonical-src="https://alexeyseleznev.files.wordpress.com/2017/03/as.png?w=300" style="max-width:100%;" />
</p>


      
    </div>
    <script src="/rvkstat/assets/javascript/anchor-js/anchor.min.js"></script>
    <script>anchors.add();</script>
  </body>
</html>
